<div id="app">
    <p>{{state.counter}}</p>
    <p>{{count}}</p>
    <comp dong="dong">
        <div>hi</div>
    </comp>
</div>
<script src="https://unpkg.com/vue@next"></script>
<script>
  const { createApp, reactive, h, getCurrentInstance, ref } = Vue;
  createApp({
    // 参数
    setup(props, ctx) {
      // 获取组件实例
      const ins = getCurrentInstance()
      console.log(ins);
      const state = reactive({ counter: 0, });
      setInterval(() => {
        state.counter++;
        count.value++
        }, 1000);

      // 单值响应式
      const count = ref(0);
      console.log(count.value);
      // 1.返回render函数上下文对象
      return { state, count };
      // 2.返回一个渲染函数，这里自然可 以是jsx
      // return () => h('div', state.counter)
    },
    components: {
      Comp: {
        template: `
          <div class="comp">comp
          <slot></slot>
          </div>`,
        props: {
          dong: {
            type: String,
            default: '',
          },
        },
        setup(props, { attrs, slots, emit, }) {
          const { dong } = props;
          console.log(attrs, slots, emit);
          // 原封不动使用属性
          return { dong: props.dong };
        },
      },
    },
  }).mount('#app');

</script>



